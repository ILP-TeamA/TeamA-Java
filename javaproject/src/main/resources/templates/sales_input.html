 

<!DOCTYPE html> 

<html lang="ja"> 

<head> 

    <meta charset="UTF-8"> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

    <title>„ÇØ„É©„Éï„Éà„Éì„Éº„É´Â£≤‰∏äÂÖ•Âäõ„Ç∑„Çπ„ÉÜ„É†</title> 

    <style> 

        * { 

            margin: 0; 

            padding: 0; 

            box-sizing: border-box; 

        } 

 

        body { 

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 

            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 

            min-height: 100vh; 

            padding: 20px; 

            color: #333; 

        } 

 

        .container { 

            max-width: 1200px; 

            margin: 0 auto; 

            background: white; 

            border-radius: 15px; 

            box-shadow: 0 20px 40px rgba(0,0,0,0.1); 

            overflow: hidden; 

        } 

 

        h1 { 

            background: linear-gradient(45deg, #ff6b6b, #feca57); 

            color: white; 

            text-align: center; 

            padding: 30px; 

            font-size: 2.5em; 

            margin-bottom: 0; 

        } 

 

        .success-message { 

            background: #d4edda; 

            color: #155724; 

            padding: 15px; 

            margin: 20px; 

            border-radius: 8px; 

            border-left: 4px solid #28a745; 

        } 

 

        .error-message { 

            background: #f8d7da; 

            color: #721c24; 

            padding: 15px; 

            margin: 20px; 

            border-radius: 8px; 

            border-left: 4px solid #dc3545; 

        } 

 

        .input-form { 

            padding: 30px; 

            background: #f8f9fa; 

        } 

 

        .input-form h3 { 

            color: #495057; 

            margin-bottom: 25px; 

            font-size: 1.5em; 

        } 

 

        .form-row { 

            display: flex; 

            gap: 20px; 

            margin-bottom: 30px; 

            align-items: end; 

            flex-wrap: wrap; 

        } 

 

        .form-group { 

            display: flex; 

            flex-direction: column; 

            min-width: 150px; 

        } 

 

        .form-group label { 

            font-weight: bold; 

            margin-bottom: 8px; 

            color: #495057; 

        } 

 

        .form-group input { 

            padding: 12px; 

            border: 2px solid #e9ecef; 

            border-radius: 8px; 

            font-size: 16px; 

            transition: border-color 0.3s; 

        } 

 

        .form-group input:focus { 

            outline: none; 

            border-color: #667eea; 

            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); 

        } 

 

        .products-grid { 

            display: grid; 

            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 

            gap: 20px; 

            margin-bottom: 30px; 

        } 

 

        .product-card { 

            background: white; 

            border-radius: 12px; 

            padding: 20px; 

            box-shadow: 0 4px 15px rgba(0,0,0,0.1); 

            transition: transform 0.3s, box-shadow 0.3s; 

        } 

 

        .product-card:hover { 

            transform: translateY(-5px); 

            box-shadow: 0 8px 25px rgba(0,0,0,0.15); 

        } 

 

        .product-header { 

            display: flex; 

            justify-content: space-between; 

            align-items: center; 

            margin-bottom: 15px; 

            padding-bottom: 10px; 

            border-bottom: 2px solid #f8f9fa; 

        } 

 

        .product-name { 

            font-weight: bold; 

            font-size: 1.1em; 

            color: #495057; 

        } 

 

        .product-price { 

            background: linear-gradient(45deg, #667eea, #764ba2); 

            color: white; 

            padding: 5px 12px; 

            border-radius: 20px; 

            font-weight: bold; 

        } 

 

        .input-group { 

            display: flex; 

            align-items: center; 

            margin-bottom: 10px; 

        } 

 

        .input-group label { 

            min-width: 80px; 

            font-weight: 500; 

            color: #6c757d; 

        } 

 

        .quantity-input { 

            width: 80px; 

            padding: 8px; 

            border: 2px solid #e9ecef; 

            border-radius: 6px; 

            text-align: center; 

            font-size: 16px; 

            margin: 0 8px; 

            transition: border-color 0.3s; 

        } 

 

        .quantity-input:focus { 

            outline: none; 

            border-color: #667eea; 

        } 

 

        .unit { 

            color: #6c757d; 

            font-weight: 500; 

        } 

 

        .product-revenue { 

            background: #e3f2fd; 

            padding: 8px 12px; 

            border-radius: 6px; 

            font-weight: bold; 

            color: #1976d2; 

            text-align: center; 

        } 

 

        .total-revenue-preview { 

            background: linear-gradient(45deg, #28a745, #20c997); 

            color: white; 

            padding: 20px; 

            border-radius: 10px; 

            text-align: center; 

            font-size: 1.3em; 

            font-weight: bold; 

            margin-bottom: 30px; 

            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3); 

        } 

 

        .submit-button { 

            width: 100%; 

            background: linear-gradient(45deg, #ff6b6b, #feca57); 

            color: white; 

            padding: 15px 30px; 

            border: none; 

            border-radius: 10px; 

            font-size: 1.2em; 

            font-weight: bold; 

            cursor: pointer; 

            transition: transform 0.3s, box-shadow 0.3s; 

            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3); 

        } 

 

        .submit-button:hover { 

            transform: translateY(-2px); 

            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4); 

        } 

 

        .link-buttons { 

            display: flex; 

            gap: 20px; 

            justify-content: flex-end; 

            margin: 30px 0 10px 0; 

        } 

 

        .link-button { 

            display: inline-block; 

            padding: 12px 28px; 

            border-radius: 8px; 

            text-decoration: none; 

            font-weight: bold; 

            font-size: 1.1em; 

            transition: background 0.3s; 

        } 

 

        .link-button.history { 

            background: linear-gradient(45deg, #667eea, #764ba2); 

            color: white; 

            box-shadow: 0 2px 8px rgba(102,126,234,0.15); 

        } 

 

        .link-button.history:hover { 

            background: linear-gradient(45deg, #5561b3, #6f4c91); 

        } 

 

        @media (max-width: 768px) { 

            .form-row { 

                flex-direction: column; 

                align-items: stretch; 

            } 

             

            .form-group { 

                min-width: auto; 

            } 

        } 

    </style> 

</head> 

<body> 

    <div class="container"> 

        <h1>üç∫ „ÇØ„É©„Éï„Éà„Éì„Éº„É´Â£≤‰∏äÂÖ•Âäõ„Ç∑„Çπ„ÉÜ„É†</h1> 

 

        <!-- „É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫„Ç®„É™„Ç¢ --> 

        <div th:if="${successMessage}" class="success-message" th:text="${successMessage}"></div> 

        <div th:if="${errorMessage}" class="error-message" th:text="${errorMessage}"></div> 

         

        <!-- ÂÖ•Âäõ„Éï„Ç©„Éº„É† --> 

        <div class="input-form"> 

            <h3>üìÖ Â£≤‰∏ä„Éá„Éº„ÇøÂÖ•Âäõ</h3> 

            <form action="/sales/register" method="post" id="salesForm"> 
                 <input type="hidden" name="salesId" value="1"><!--ËøΩÂä†-->

                <div class="form-row"> 

                    <div class="form-group"> 

                        <label for="salesDate">Ë≤©Â£≤Êó•‰ªò:</label> 

                        <input type="date" id="salesDate" name="salesDate" required> 

                    </div> 

                    <div class="form-group"> 

                        <label for="createBy">ÁôªÈå≤ËÄÖID:</label> 

                        <input type="number" id="createBy" name="createBy" min="1" value="1" required> 

                    </div> 

                </div> 

                 

                <div class="products-grid" id="productsGrid"> 

                    <div class="product-card"> 

                        <div class="product-header"> 

                            <span class="product-name">„Éõ„ÉØ„Ç§„Éà„Éì„Éº„É´</span> 

                            <span class="product-price">¬•900</span> 

                        </div> 

                        <div class="input-group"> 

                            <label for="product_1">Â£≤‰∏äÊú¨Êï∞:</label> 

                            <input type="number" id="product_1" name="product_1" data-price="900" min="0" max="999" value="0" class="quantity-input"> 

                            <span class="unit">Êú¨</span> 

                        </div> 

                        <div class="product-revenue" id="revenue_product_1"> 

                            Â£≤‰∏äÈ°ç: ¬•0 

                        </div> 

                    </div> 

 

                    <div class="product-card"> 

                        <div class="product-header"> 

                            <span class="product-name">„É©„Ç¨„Éº</span> 

                            <span class="product-price">¬•800</span> 

                        </div> 

                        <div class="input-group"> 

                            <label for="product_2">Â£≤‰∏äÊú¨Êï∞:</label> 

                            <input type="number" id="product_2" name="product_2" data-price="800" min="0" max="999" value="0" class="quantity-input"> 

                            <span class="unit">Êú¨</span> 

                        </div> 

                        <div class="product-revenue" id="revenue_product_2"> 

                            Â£≤‰∏äÈ°ç: ¬•0 

                        </div> 

                    </div> 

 

                    <div class="product-card"> 

                        <div class="product-header"> 

                            <span class="product-name">„Éö„Éº„É´„Ç®„Éº„É´</span> 

                            <span class="product-price">¬•1,000</span> 

                        </div> 

                        <div class="input-group"> 

                            <label for="product_3">Â£≤‰∏äÊú¨Êï∞:</label> 

                            <input type="number" id="product_3" name="product_3" data-price="1000" min="0" max="999" value="0" class="quantity-input"> 

                            <span class="unit">Êú¨</span> 

                        </div> 

                        <div class="product-revenue" id="revenue_product_3"> 

                            Â£≤‰∏äÈ°ç: ¬•0 

                        </div> 

                    </div> 

 

                    <div class="product-card"> 

                        <div class="product-header"> 

                            <span class="product-name">„Éï„É´„Éº„ÉÑ„Éì„Éº„É´</span> 

                            <span class="product-price">¬•1,000</span> 

                        </div> 

                        <div class="input-group"> 

                            <label for="product_4">Â£≤‰∏äÊú¨Êï∞:</label> 

                            <input type="number" id="product_4" name="product_4" data-price="1000" min="0" max="999" value="0" class="quantity-input"> 

                            <span class="unit">Êú¨</span> 

                        </div> 

                        <div class="product-revenue" id="revenue_product_4"> 

                            Â£≤‰∏äÈ°ç: ¬•0 

                        </div> 

                    </div> 

 

                    <div class="product-card"> 

                        <div class="product-header"> 

                            <span class="product-name">Èªí„Éì„Éº„É´</span> 

                            <span class="product-price">¬•1,200</span> 

                        </div> 

                        <div class="input-group"> 

                            <label for="product_5">Â£≤‰∏äÊú¨Êï∞:</label> 

                            <input type="number" id="product_5" name="product_5" data-price="1200" min="0" max="999" value="0" class="quantity-input"> 

                            <span class="unit">Êú¨</span> 

                        </div> 

                        <div class="product-revenue" id="revenue_product_5"> 

                            Â£≤‰∏äÈ°ç: ¬•0 

                        </div> 

                    </div> 

 

                    <div class="product-card"> 

                        <div class="product-header"> 

                            <span class="product-name">IPA</span> 

                            <span class="product-price">¬•900</span> 

                        </div> 

                        <div class="input-group"> 

                            <label for="product_6">Â£≤‰∏äÊú¨Êï∞:</label> 

                            <input type="number" id="product_6" name="product_6" data-price="900" min="0" max="999" value="0" class="quantity-input"> 

                            <span class="unit">Êú¨</span> 

                        </div> 

                        <div class="product-revenue" id="revenue_product_6"> 

                            Â£≤‰∏äÈ°ç: ¬•0 

                        </div> 

                    </div> 

                </div> 

                 

                <div class="total-revenue-preview" id="totalRevenuePreview"> 

                    Êú¨Êó•„ÅÆ‰∫àÊÉ≥Â£≤‰∏äÁ∑èÈ°ç: ¬•0 

                </div> 

                 

                <button type="submit" class="submit-button">Â£≤‰∏ä„Éá„Éº„Çø„ÇíÁôªÈå≤</button> 

            </form> 

        </div> 

         

        <!-- Â£≤‰∏äÂ±•Ê≠¥„Éö„Éº„Ç∏„Å∏„ÅÆ„É™„É≥„ÇØ„Éú„Çø„É≥ --> 

        <div class="link-buttons"> 

            <a href="/sales/history" class="link-button history">Â£≤‰∏äÂ±•Ê≠¥‰∏ÄË¶ß„Å∏</a> 

        </div> 

    </div> 

         

    <script> 

        document.addEventListener('DOMContentLoaded', function() { 

            // ‰ªäÊó•„ÅÆÊó•‰ªò„Çí„Éá„Éï„Ç©„É´„Éà„ÅßË®≠ÂÆö 

            const today = new Date(); 

            const yyyy = today.getFullYear(); 

            const mm = String(today.getMonth() + 1).padStart(2, '0'); 

            const dd = String(today.getDate()).padStart(2, '0'); 

            document.getElementById('salesDate').value = `${yyyy}-${mm}-${dd}`; 

 

            const inputs = document.querySelectorAll('.quantity-input'); 

             

            inputs.forEach(input => { 

                input.addEventListener('input', updateRevenue); 

            }); 

             

            function updateRevenue() { 

                let totalRevenue = 0; 

                 

                inputs.forEach(input => { 

                    const price = parseInt(input.dataset.price); 

                    const quantity = parseInt(input.value) || 0; 

                    const revenue = price * quantity; 

                     

                    const revenueElement = document.getElementById('revenue_' + input.id); 

                    if (revenueElement) { 

                        revenueElement.textContent = 'Â£≤‰∏äÈ°ç: ¬•' + revenue.toLocaleString(); 

                    } 

                     

                    totalRevenue += revenue; 

                }); 

                 

                document.getElementById('totalRevenuePreview').textContent = 

                    'Êú¨Êó•„ÅÆÂ£≤‰∏äÁ∑èÈ°ç: ¬•' + totalRevenue.toLocaleString(); 

            } 

 

            // „Éï„Ç©„Éº„É†ÈÄÅ‰ø°„ÅÆÂá¶ÁêÜÔºà„Éê„É™„Éá„Éº„Ç∑„Éß„É≥„ÅÆ„ÅøÔºâ 

            document.getElementById('salesForm').addEventListener('submit', function(e) { 

                const createBy = document.getElementById('createBy').value; 

                const salesDate = document.getElementById('salesDate').value; 

                 

                if (!createBy || !salesDate) { 

                    e.preventDefault(); 

                    alert('Ë≤©Â£≤Êó•‰ªò„Å®ÁôªÈå≤ËÄÖID„Çí„Åô„Åπ„Å¶ÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'); 

                    return; 

                } 

 

                // Êï∞Èáè„Åå1„Å§„ÇÇÂÖ•Âäõ„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà„ÅÆÁ¢∫Ë™ç 

                let hasQuantity = false; 

                inputs.forEach(input => { 

                    if (parseInt(input.value) > 0) { 

                        hasQuantity = true; 

                    } 

                }); 

 

                if (!hasQuantity) { 

                    e.preventDefault(); 

                    alert('Â∞ë„Å™„Åè„Å®„ÇÇ1„Å§„ÅÆÂïÜÂìÅ„ÅÆË≤©Â£≤Êï∞Èáè„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'); 

                    return; 

                } 

 

                // „Éê„É™„Éá„Éº„Ç∑„Éß„É≥ÈÄöÈÅéÊôÇ„ÅØ„Éï„Ç©„Éº„É†„ÇíÈÄöÂ∏∏ÈÄö„ÇäÈÄÅ‰ø° 

                console.log('„Éï„Ç©„Éº„É†ÈÄÅ‰ø°‰∏≠...'); 

            }); 

        }); 

    </script> 

</body> 

</html> 